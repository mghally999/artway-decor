---
import Base from "@/layouts/Base.astro";
import PageHeader from "@/partials/PageHeader.astro";
import CallToAction from "@/partials/CallToAction.astro";
import FAQs from "@/partials/FAQs.astro";

import categories from "@/config/projectCategories.json";
import projectsIndex from "@/config/projectsIndex.json";

// 1) ORDER
const ORDER = [
  "restaurants-cafes",
  "villas",
  "landscaping",
  "retail-shops",
  "salons",
  "offices",
  "apartments",
];

const titleFromSlug = (slug) =>
  String(slug)
    .replace(/-/g, " ")
    .replace(/\b\w/g, (m) => m.toUpperCase());

// 2) DUMMY IMAGES FOR EACH SERVICE (REPLACE THESE WITH YOUR BUNNYCDN URLS)
const SERVICE_IMAGES = {
  "restaurants-cafes": "https://artwaydecor.b-cdn.net/restaurants-cafes/asia-kitchen/10.jpeg",
  "villas": "https://artwaydecor.b-cdn.net/villas/damac-flora/1.jpg",
  "landscaping": "https://artwaydecor.b-cdn.net/landscaping/al-wasl/3.jpeg",
  "retail-shops": "https://artwaydecor.b-cdn.net/retail-shops/roberto-cavalli-beach-jbr/1.jpg",
  "salons": "https://artwaydecor.b-cdn.net/salons/ranim-john-beauty-salon-ladies/13.jpg",
  "offices": "https://artwaydecor.b-cdn.net/offices/boutigaat-office/1.jpg",
  "apartments": "https://artwaydecor.b-cdn.net/apartments/business-bay/1.jpeg",
};

// 3) CONTENT
const SERVICE_CONTENT = {
  "restaurants-cafes": {
    title: "Restaurants & Cafés Fit-Out",
    tagline:
      "Turnkey interiors built for traffic, flow, operations, and a premium guest experience.",
    features: [
      { name: "Concept & Space Planning", description: "Layout that maximizes covers, circulation, and back-of-house efficiency." },
      { name: "MEP Coordination", description: "HVAC, electrical, plumbing aligned with kitchen and service requirements." },
      { name: "Finishes & Joinery", description: "High-durability materials, custom counters, wall cladding, and ceiling detailing." },
      { name: "Full Fit-Out Delivery", description: "Site execution, supervision, snagging, and final handover — all managed end-to-end." },
    ],
    // ADD YOUR BUNNYCDN URL HERE:
    image: SERVICE_IMAGES["restaurants-cafes"], // Replace with: "https://your-bunnycdn.com/restaurants-cafes/1.jpg"
  },

  villas: {
    title: "Villas Interior Design",
    tagline:
      "Luxury residential interiors with custom detailing, curated materials, and flawless execution.",
    features: [
      { name: "Moodboards & Styling", description: "A cohesive design direction tailored to your taste and lifestyle." },
      { name: "Custom Joinery", description: "Built-in units, feature walls, TV units, wardrobes, and bespoke carpentry." },
      { name: "Lighting Design", description: "Ambient + task + feature lighting for warmth, mood, and elegance." },
      { name: "Execution & Handover", description: "Fit-out works with quality control, snag list closure, and on-time delivery." },
    ],
    // ADD YOUR BUNNYCDN URL HERE:
    image: SERVICE_IMAGES["villas"], // Replace with: "https://your-bunnycdn.com/villas/1.jpg"
  },

  landscaping: {
    title: "Landscaping & Outdoor Areas",
    tagline:
      "Outdoor transformations that feel premium, functional, and built to last in Dubai weather.",
    features: [
      { name: "Outdoor Layout", description: "Garden zoning for seating, walkways, and focal points." },
      { name: "Hardscape Works", description: "Pergolas, decking, pavers, stone, edging, and structural outdoor finishing." },
      { name: "Softscape & Planting", description: "Plant selection + irrigation-ready planning suited to climate and maintenance." },
      { name: "Outdoor Lighting", description: "Path lights, wall washers, and ambient lighting for a luxury evening look." },
    ],
    // ADD YOUR BUNNYCDN URL HERE:
    image: SERVICE_IMAGES["landscaping"], // Replace with: "https://your-bunnycdn.com/landscaping/1.jpg"
  },

  "retail-shops": {
    title: "Retail Shops Fit-Out",
    tagline:
      "Retail environments designed to sell: clear journey, strong brand presence, premium finishing.",
    features: [
      { name: "Customer Flow", description: "Optimized layout to guide attention and improve conversion." },
      { name: "Brand Display Zones", description: "Feature walls, product displays, and signage-ready detailing." },
      { name: "Lighting & Ceiling", description: "Retail lighting plan + ceiling works that elevate perceived value." },
      { name: "Turnkey Execution", description: "Fit-out delivery with coordinated trades, deadlines, and quality checks." },
    ],
    // ADD YOUR BUNNYCDN URL HERE:
    image: SERVICE_IMAGES["retail-shops"], // Replace with: "https://your-bunnycdn.com/retail-shops/1.jpg"
  },

  salons: {
    title: "Salons & Beauty Clinics Fit-Out",
    tagline:
      "Clean, elegant, and operationally smart layouts for premium beauty experiences.",
    features: [
      { name: "Stations & Layout", description: "Optimized chair stations, wash areas, waiting zones, and staff flow." },
      { name: "Hygiene-Friendly Finishes", description: "Materials that are durable, cleanable, and clinic-ready." },
      { name: "Lighting & Mirrors", description: "Flattering lighting and mirror design that enhances the client experience." },
      { name: "Fast Turnaround Delivery", description: "Execution planning focused on minimizing downtime and accelerating launch." },
    ],
    // ADD YOUR BUNNYCDN URL HERE:
    image: SERVICE_IMAGES["salons"], // Replace with: "https://your-bunnycdn.com/salons/1.jpg"
  },

  offices: {
    title: "Office Fit-Out",
    tagline:
      "Modern offices designed for productivity, brand presence, and team comfort.",
    features: [
      { name: "Space Planning", description: "Meeting rooms, workstations, reception, and collaboration zones optimized." },
      { name: "Partitions & Ceilings", description: "Glass partitions, gypsum works, acoustic control, and ceiling design." },
      { name: "MEP & Data Readiness", description: "Power, network points, AC distribution, and compliance-ready planning." },
      { name: "Turnkey Build", description: "From approvals to handover — one team, one timeline, one result." },
    ],
    // ADD YOUR BUNNYCDN URL HERE:
    image: SERVICE_IMAGES["offices"], // Replace with: "https://your-bunnycdn.com/offices/1.jpg"
  },

  apartments: {
    title: "Apartments Interior Design",
    tagline:
      "High-end apartment transformations with premium materials and clean detailing.",
    features: [
      { name: "Design Direction", description: "A refined style direction with practical furniture and finishing decisions." },
      { name: "Material Selection", description: "Flooring, wall finishes, kitchens, and bathrooms curated for value and elegance." },
      { name: "Custom Details", description: "Feature walls, storage, lighting accents, and seamless joinery." },
      { name: "Execution & Quality Control", description: "On-site supervision, snagging, and quality checks through to delivery." },
    ],
    // ADD YOUR BUNNYCDN URL HERE:
    image: SERVICE_IMAGES["apartments"], // Replace with: "https://your-bunnycdn.com/apartments/1.jpg"
  },
};

// 4) LIST
const services = ORDER.map((slug) => {
  const cat =
    categories.find((c) => c.slug === slug) || { slug, title: titleFromSlug(slug) };

  const firstProject =
    (projectsIndex?.[slug] && projectsIndex[slug][0]) || null;

  const content = SERVICE_CONTENT[slug] || {
    title: cat.title || titleFromSlug(slug),
    tagline: "Premium turnkey interior design & fit-out solutions.",
    features: [],
    image: "https://images.unsplash.com/photo-1586023492125-27b2c045efd7?w=1200&h=800&fit=crop&auto=format", // default placeholder
  };

  return {
    slug,
    title: content.title || cat.title || titleFromSlug(slug),
    tagline: content.tagline,
    features: content.features || [],
    firstProject,
    image: content.image || SERVICE_IMAGES[slug] || SERVICE_IMAGES.default,
  };
}).filter(Boolean);

const pageData = {
  title: "Services",
  meta_title: "Artway Decor – Services",
  description:
    "Turnkey interior design & fit-out services across Dubai: restaurants, cafés, villas, landscaping, retail, salons, offices, and apartments.",
};
---

<Base {...pageData}>
  <PageHeader title="Services" />

  <section class="svcSection">
    <div class="svcWrap">
      {services.map((s, i) => (
        <div class={`svcRow ${i % 2 !== 0 ? "isReverse" : ""}`}>
          {/* Image */}
          <div
            class="svcMedia"
            data-aos={i % 2 === 0 ? "fade-right-sm" : "fade-left-sm"}
            data-aos-delay="200"
          >
            <div class="svcImgBox">
              <!-- REPLACE THIS IMAGE SRC WITH YOUR BUNNYCDN URL -->
              <img
                src={s.image}
                alt={s.title}
                class="svcImg"
                loading="lazy"
                decoding="async"
                style="transform: scale(1.08); transform-origin: center;"
              />
            </div>
          </div>

          {/* Content */}
          <div class="svcContent">
            <h2 class="svcTitle" data-aos="fade-up-sm" data-aos-delay="150">
              {s.title}
            </h2>

            <p class="svcTag" data-aos="fade-up-sm" data-aos-delay="200">
              {s.tagline}
            </p>

            <div class="svcFeatures">
              {s.features.map((f, j) => (
                <div
                  class="svcFeat"
                  data-aos="fade-up-sm"
                  data-aos-delay={j * 80 + 220}
                >
                  {/* ✅ aligned number column + right-starting text */}
                  <div class="svcFeatRow">
                    <div class="svcNum">{String(j + 1).padStart(2, "0")}</div>

                    <div class="svcFeatBody">
                      <h3 class="svcFeatTitle">{f.name}</h3>
                      <p class="svcFeatDesc">{f.description}</p>
                    </div>
                  </div>
                </div>
              ))}
            </div>
          </div>
        </div>
      ))}
    </div>
  </section>

  <CallToAction isNoSectionTop />
  <FAQs isNoSectionTop />
</Base>

<style>
  /* Layout */
  .svcSection { padding: 48px 0; }
  .svcWrap {
    max-width: 1200px;
    margin: 0 auto;
    padding: 0 16px;
  }

  .svcRow {
    display: grid;
    grid-template-columns: 1fr 1fr;
    gap: 42px;
    align-items: center;
    padding: 40px 0;
    border-bottom: 1px solid rgb(0 0 0 / 12%);
  }
  .svcRow:last-child { border-bottom: 0; }

  .isReverse .svcMedia { order: 2; }
  .isReverse .svcContent { order: 1; }

  /* Image */
  .svcImgBox {
    position: relative;
    width: 100%;
    height: 520px;
    border-radius: 22px;
    overflow: hidden;
    background: rgb(0 0 0 / 4%);
    border: 1px solid rgb(0 0 0 / 10%);
  }
  .svcImg {
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    object-fit: cover;
    object-position: center;
    display: block;
    transform: translateZ(0);
  }

  /* Title/Tag */
  .svcTitle {
    font-size: 32px;
    line-height: 1.15;
    margin: 0 0 10px;
    color: rgb(0 0 0 / 92%);
  }
  .svcTag {
    margin: 0 0 18px;
    color: rgb(0 0 0 / 70%);
    max-width: 560px;
  }

  .svcFeatures { margin-top: 18px; display: grid; gap: 14px; }
  .svcFeat { padding: 6px 0; }

  /* ✅ THE IMPORTANT PART: number column + content starts after it */
  .svcFeatRow{
    display: grid;
    grid-template-columns: 44px 1fr; /* fixed number column */
    column-gap: 14px;
    align-items: start;
  }

  .svcNum {
    color: rgb(60 102 187); /* ✅ your blue */
    font-weight: 800;
    letter-spacing: 0.05em;
    font-size: 14px;
    line-height: 1.2;
    padding-top: 3px; /* aligns with title */
  }

  .svcFeatBody { min-width: 0; }

  .svcFeatTitle {
    margin: 0 0 6px;
    font-size: 16px;
    font-weight: 800;
    color: rgb(0 0 0 / 90%);
  }

  .svcFeatDesc {
    margin: 0;
    color: rgb(0 0 0 / 68%);
    line-height: 1.6;
    max-width: 620px;
  }

  /* Responsive */
  @media (max-width: 980px) {
    .svcRow { grid-template-columns: 1fr; gap: 22px; }
    .isReverse .svcMedia, .isReverse .svcContent { order: initial; }
    .svcImgBox { height: 420px; }
    .svcTitle { font-size: 28px; }
  }

  @media (max-width: 560px) {
    .svcWrap { padding: 0 14px; }
    .svcImgBox { height: 340px; border-radius: 18px; }
    .svcTitle { font-size: 24px; }
    .svcFeatRow{ grid-template-columns: 40px 1fr; }
  }
</style>